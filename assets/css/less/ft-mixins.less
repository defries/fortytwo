// Custom file for Forty Two Mixins

//
// Mixins
// --------------------------------------------------

// Generate rem font-sizes with pixel fallbacks
// By default uses `@font-size-base` with an initial value of 14 (1.4rem or 14px)
.font-size( @font-size: @font-size-base ) {
	font-size: unit(@font-size, px);
	font-size: unit(@font-size, rem) / 10;
}

.box-padding( @top:0, @right:0, @bottom:0, @left: 0 ) {
	padding: unit(@top, px) unit(@right, px) unit(@bottom, px) unit(@left, px);
	padding: unit((@top /10), rem) unit((@right /10), rem) unit((@bottom /10), rem) unit((@left /10), rem);
}

.ft-nav-divider( @color: #e5e5e5 ) {
	&:after {
		content: " ";
		display: block;
		.nav-divider(@color);
	}
}

.calc-line-height( @screen-size: @screen-phone, @cols: 12, @font-size: @font-size-base, @ratio: @golden ) {
	@f: unit(@font-size);
	@w: (unit(@screen-size) / 12) * @cols;
	@r: @ratio;

	@h: @r - (1 / (2 * @r)) * (1 - (@w / pow(@f * @r, 2)));
	@l: round(@f * @h);

	line-height: @h;
}

.renderPageLayout(@selector; @columns; @screensize) {
	@{selector} {
		.make-lg-column(@columns);
		.calc-line-height(@screensize, @columns);
	}
}

.setPageLayoutX(@index; @lsections; @lcolumns; @lselectors; @lscreensize) when (isstring(extract(@lselectors, @index))) {
	@selector: extract(@lselectors, @index);
	@columns: extract(@lcolumns, @index);
	@screensize: @lscreensize;

	.renderPageLayout(@selector; @columns; @screensize);

	.setPageLayoutX((@index + 1); @lsections; @lcolumns; @lselectors; @lscreensize);
}

.setPageLayout(@lsections; @lcolumns; @lselectors; @lscreensize) {
	@selector: @lselectors;
	@columns: @lcolumns;
	@screensize: @lscreensize;

	.renderPageLayout(@selector; @columns; @screensize);
}

.set-page-layout(@lsections, @lcolumns, @lselectors, @lscreensize) when (@lsections = 1) {
	.setPageLayout(@lsections; @lcolumns; @lselectors; @lscreensize);
}

.set-page-layout(@lsections, @lcolumns, @lselectors, @lscreensize) when (@lsections > 1) {
	.setPageLayoutX(1; @lsections; @lcolumns; @lselectors; @lscreensize);
}
